webpackJsonp([12],{Ehtu:function(e,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var a=t("mtWM"),i=t.n(a),r={name:"EditarEmpleado",mounted:function(){this.empleado=this.$route.params.empleado,this.documentoOriginal=this.$route.params.empleado.documento},data:function(){return{loading:!1,resultadoOperacion:null,erroresForm:[],disabled:!0,empleado:{nombre:"",apellido:"",documento:"",fechaNacimiento:"",domicilio:"",telefono:"",vencimientoCarnetSalud:"",vencimientoCarnetChofer:""},documentoOriginal:""}},methods:{verificarDisponibilidad:function(){var e=this;""!=this.empleado.documento&&this.documentoOriginal!=this.empleado.documento?(this.errorDisponibilidad="Verificando..",i.a.get("http://localhost:4567/api/empleado/existe-empleado",{params:{documento:this.empleado.documento}}).then(function(o){console.log(o),1==o.data.existe||1300==o.data.resultado?(e.disabled=!0,e.errorDisponibilidad="Documento ya registrado."):(e.errorDisponibilidad="",e.disabled=!1)})):this.disabled=!1},modificarEmpleado:function(){var e=this;if(this.loading=!0,this.checkForm()){var o=this.empleado;console.log(o),i.a.post("http://localhost:4567/api/empleado/modificar-empleado",o).then(function(o){console.log(o),1304==o.data.resultado?e.$router.push({name:"ListadoEmpleado",params:{resultadoOperacion:"Empleado modificado satisfactoriamente."}}):4==o.data.resultado&&(e.resultadoOperacion="Error 0004.")}),this.loading=!1}},limpiarCajas:function(){this.empleado.nombre="",this.empleado.apellido="",this.empleado.documento="",this.empleado.fechaNacimiento="",this.empleado.domicilio="",this.empleado.telefono="",this.empleado.vencimientoCarnetSalud="",this.empleado.vencimientoCarnetChofer=""},checkForm:function(){return!!(this.empleado.nombre&&this.empleado.apellido&&this.empleado.documento&&this.empleado.fechaNacimiento&&this.empleado.domicilio&&this.empleado.telefono)||(this.erroresForm=[],this.empleado.nombre||this.erroresForm.push("Nombre requerido."),this.empleado.apellido||this.erroresForm.push("Apellido requerido."),this.empleado.documento||this.erroresForm.push("Documento requerido."),this.empleado.fechaNacimiento||this.erroresForm.push("Fecha de nacimiento requerida."),this.empleado.domicilio||this.erroresForm.push("Domicilio requerido."),this.empleado.telefono||this.erroresForm.push("Teléfono requerido."),this.disabled=!1,!1)}}},s=function(){var e=this,o=e.$createElement,t=e._self._c||o;return t("div",[t("h1",{staticClass:"mainTitle"},[e._v("\n    Empleados\n    ")]),e._v(" "),t("hr",{staticClass:"titleUnderline"}),e._v(" "),t("div",{staticClass:"card border-success mb-3"},[t("div",{staticClass:"card-header greenBackground"},[e._v("Modificar Empleado")]),e._v(" "),t("div",{staticClass:"card-body darkTextCustom"},[t("form",{on:{submit:function(o){o.preventDefault(),e.modificarEmpleado()}}},[t("i",{directives:[{name:"show",rawName:"v-show",value:e.loading,expression:"loading"}],staticClass:"fa fa-spinner fa-spin"}),e._v(" "),e.erroresForm.length?t("p",[t("b",[e._v("Por favor corrija lo siguiente:")]),e._v(" "),t("ul",e._l(e.erroresForm,function(o,a){return t("li",{key:a},[e._v(e._s(o))])}))]):e._e(),e._v(" "),e.resultadoOperacion?t("p",[e._v(e._s(e.resultadoOperacion))]):e._e(),e._v(" "),t("div",{staticClass:"form-group"},[t("label",{staticClass:"darkTextCustom",attrs:{for:"nombre"}},[e._v("Nombre ")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.empleado.nombre,expression:"empleado.nombre"}],staticClass:"form-control border-success",attrs:{type:"text",id:"nombre",placeholder:"Nombre"},domProps:{value:e.empleado.nombre},on:{input:function(o){o.target.composing||e.$set(e.empleado,"nombre",o.target.value)}}})]),e._v(" "),t("div",{staticClass:"form-group"},[t("label",{staticClass:"darkTextCustom",attrs:{for:"apellido"}},[e._v("Apellido")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.empleado.apellido,expression:"empleado.apellido"}],staticClass:"form-control border-success",attrs:{type:"text",id:"apellido",placeholder:"Apellidos"},domProps:{value:e.empleado.apellido},on:{input:function(o){o.target.composing||e.$set(e.empleado,"apellido",o.target.value)}}})]),e._v(" "),t("div",{staticClass:"form-group"},[t("label",{staticClass:"darkTextCustom",attrs:{for:"documento"}},[e._v("Documento de Identidad")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.empleado.documento,expression:"empleado.documento"}],staticClass:"form-control border-success",attrs:{type:"text",id:"documento",placeholder:"Documento"},domProps:{value:e.empleado.documento},on:{blur:function(o){e.verificarDisponibilidad()},input:function(o){o.target.composing||e.$set(e.empleado,"documento",o.target.value)}}}),e._v(" "),t("small",{staticClass:"form-text textMutedCustom",attrs:{id:"emailHelp"}},[e._v(e._s(e.errorDisponibilidad))])]),e._v(" "),t("div",{staticClass:"form-group"},[t("label",{staticClass:"darkTextCustom",attrs:{for:"fechaNacimiento"}},[e._v("Fecha de Nacimiento")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.empleado.fechaNacimiento,expression:"empleado.fechaNacimiento"}],staticClass:"form-control border-success",attrs:{type:"date",id:"fechaNacimiento",placeholder:"2019-12-05"},domProps:{value:e.empleado.fechaNacimiento},on:{input:function(o){o.target.composing||e.$set(e.empleado,"fechaNacimiento",o.target.value)}}})]),e._v(" "),t("div",{staticClass:"form-group"},[t("label",{staticClass:"darkTextCustom",attrs:{for:"domicilio"}},[e._v("Domicilio")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.empleado.domicilio,expression:"empleado.domicilio"}],staticClass:"form-control border-success",attrs:{type:"text",id:"domicilio",placeholder:"Domicilio"},domProps:{value:e.empleado.domicilio},on:{input:function(o){o.target.composing||e.$set(e.empleado,"domicilio",o.target.value)}}})]),e._v(" "),t("div",{staticClass:"form-group"},[t("label",{staticClass:"darkTextCustom",attrs:{for:"telefono"}},[e._v("Teléfono")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.empleado.telefono,expression:"empleado.telefono"}],staticClass:"form-control border-success",attrs:{type:"text",id:"telefono",placeholder:"Teléfono"},domProps:{value:e.empleado.telefono},on:{input:function(o){o.target.composing||e.$set(e.empleado,"telefono",o.target.value)}}})]),e._v(" "),t("div",{staticClass:"form-group"},[t("label",{staticClass:"darkTextCustom",attrs:{for:"vencimientoCarnetSalud"}},[e._v("Vencimiento Carnet Salud")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.empleado.vencimientoCarnetSalud,expression:"empleado.vencimientoCarnetSalud"}],staticClass:"form-control border-success",attrs:{type:"date",id:"vencimientoCarnetSalud",placeholder:"2019-12-05"},domProps:{value:e.empleado.vencimientoCarnetSalud},on:{input:function(o){o.target.composing||e.$set(e.empleado,"vencimientoCarnetSalud",o.target.value)}}})]),e._v(" "),t("div",{staticClass:"form-group"},[t("label",{staticClass:"darkTextCustom",attrs:{for:"vencimientoCarnetChofer"}},[e._v("Vencimiento Libreta de Conducir")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.empleado.vencimientoCarnetChofer,expression:"empleado.vencimientoCarnetChofer"}],staticClass:"form-control border-success",attrs:{type:"date",id:"vencimientoCarnetChofer",placeholder:"2019-12-05"},domProps:{value:e.empleado.vencimientoCarnetChofer},on:{input:function(o){o.target.composing||e.$set(e.empleado,"vencimientoCarnetChofer",o.target.value)}}})]),e._v(" "),t("input",{staticClass:"btn marginBefore tableHeadingBackground",attrs:{type:"submit",disabled:e.disabled,value:"Modificar"}})])])])])};s._withStripped=!0;var l={render:s,staticRenderFns:[]},d=l;var n=t("VU/8")(r,d,!1,null,null,null);n.options.__file="src\\components\\empleado\\EditarEmpleado.vue";o.default=n.exports}});
//# sourceMappingURL=12.1cf624810db2d066d4a7.js.map